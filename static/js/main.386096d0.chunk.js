(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(t,e,o){t.exports=o(355)},355:function(t,e,o){"use strict";o.r(e);var n=o(132),i=o(15),a=o(16),c=o(18),r=o(17),s=o(19),d=o(4);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=o(0),u=o(131),p=function(t,e,o){var n={data:t.data,sourceId:t.sourceId,targetId:t.targetId},i=o.find(function(t){return t.id===n.sourceId});return i?(i.config&&-1!==["transform","sink"].indexOf(i.config.type)&&-1===t.sourceId.indexOf("right")&&(n.sourceId="".concat(t.sourceId,"-right")),n):t},h=function(t,e,o){var n={data:t.data,sourceId:t.sourceId,targetId:t.targetId},i=o.find(function(e){return-1!==t.sourceId.indexOf("".concat(e.id,"-"))});return i?(i.config&&-1!==["transform","sink"].indexOf(i.config.type)&&-1!==t.sourceId.indexOf("right")&&(n.sourceId="".concat(t.sourceId.slice(0,t.sourceId.indexOf("-right")))),n):t},f=function(t,e,o){var n={data:t.data,sourceId:t.sourceId,targetId:t.targetId},i=o.find(function(e){return t.sourceId===e.id});return i?(i.config&&"condition"===i.config.type&&-1===t.sourceId.indexOf("bottom")&&-1===t.sourceId.indexOf("right")&&t.data&&("true"===t.data.condition?n.sourceId="".concat(t.sourceId,"-right"):n.sourceId="".concat(t.sourceId,"-bottom")),n):t},m=function(t,e,o){var n={data:t.data,sourceId:t.sourceId,targetId:t.targetId},i=o.find(function(e){return-1!==t.sourceId.indexOf("".concat(e.id,"-"))});return i?(i.config&&"condition"===i.config.type&&(-1!==t.sourceId.indexOf("right")&&(n.sourceId="".concat(t.sourceId.slice(0,t.sourceId.indexOf("-right"))),n.data={condition:"true"}),-1!==t.sourceId.indexOf("bottom")&&(n.sourceId="".concat(t.sourceId.slice(0,t.sourceId.indexOf("-bottom"))),n.data={condition:"false"})),n):t},b=o(74),g={hoverPaintStyle:{dashstyle:"solid",lineWidth:4,strokeStyle:"#58b7f6",strokeWidth:3},paintStyle:{lineWidth:2,outlineColor:"transparent",outlineWidth:4,strokeStyle:"#4e5568",strokeWidth:3}},y=Object.assign({ConnectionOverlays:[["Arrow",{foldback:.8,id:"arrow",length:14,location:1}]],Connector:["Flowchart",{alwaysRespectStubs:!0,cornerRadius:20,midpoint:.2,stub:[10,15]}],Endpoint:"Dot",EndpointStyle:{radius:10}},g),v={endpoint:"Dot",maxConnections:-1,paintStyle:{connectorStyle:g.paintStyle,fill:"black",lineWidth:3,radius:5,stroke:"black"}},k=Object(d.a)({},v,{isSource:!0}),x=Object(d.a)({},v,{isTarget:!0}),I=Object(d.a)({overlays:[["Label",{id:"yesLabel",label:"Yes",location:[.5,-.55]}]]},k),O=Object(d.a)({anchor:"Bottom",overlays:[["Label",{id:"noLabel",label:"No",location:[.5,-.85]}]]},k);function E(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t={};return(t={commonSettings:v,conditionBottomEndpoint:O,conditionRightEndpoint:I,default:y,sink:x,source:k,transformSink:{},transformSource:{}}).transformSource=b(t.source),t.transformSink=b(t.sink),t}function j(t){t.toggleType("selected")}function N(t){t.endpoints&&j(t),t.connections&&t.connections.forEach(function(t){return j(t)})}var w=o(1),S={blueGreen:"#7EDAD4",mintCream:"#F9FFF9",salmonPink:"#FF9393",teal:"#588188",yellow:"#FFEC94"},C={main:{borderRadius:"4px",boxShadow:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.salmonPink;return"1px 1px 1px 1px ".concat(t)},colors:S}};var P=o(11),T=o.n(P),D=Object(w.css)({"&.right":{left:"190px"},borderRadius:"100%",height:"25px",left:"-12px",position:"absolute",top:"25px",width:"25px",zIndex:200001}),R=Object(w.css)({alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"relative",width:"100%"}),A=Object(w.css)({background:"white",border:"2px solid ".concat(C.main.colors.blueGreen),cursor:"pointer",display:"inline-block",height:"100px",position:"absolute",width:"200px",zIndex:2e4}),W=function(t){function e(){var t,o;Object(i.a)(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(o=Object(c.a)(this,(t=Object(r.a)(e)).call.apply(t,[this].concat(a)))).rightEndpointRef=void 0,o}return Object(s.a)(e,t),Object(a.a)(e,[{key:"componentDidMount",value:function(){var t=E().transformSource,e={endPointParams:[{element:this.rightEndpointRef,params:Object(d.a)({},t,{isSource:!0,uuid:"".concat(this.props.id,"-transform")}),referenceParams:{}}],makeTargetParams:{allowLoopback:!1,anchor:"ContinuousLeft",dropOptions:{hoverClass:"drag-hover"},isTarget:!0},nodeId:this.props.id};this.props.initNode&&this.props.initNode(e)}},{key:"render",value:function(){var t=this,e=this.props.config,o={};return e&&(o=e.style),l.createElement("div",{id:this.props.id,className:"".concat(A),style:o},l.createElement("div",{className:"".concat(R)},e&&e.label?e.label:this.props.id,l.createElement("div",{id:"".concat(this.props.id,"-right"),ref:function(e){return t.rightEndpointRef=e},className:"".concat(D," right")})))}}]),e}(P.DefaultNode),z=Object(w.css)({border:"2px solid ".concat(C.main.colors.teal)}),L=Object(w.css)({zIndex:20001}),F=function(t){function e(){var t,o;Object(i.a)(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(o=Object(c.a)(this,(t=Object(r.a)(e)).call.apply(t,[this].concat(a)))).rightEndpointRef=void 0,o}return Object(s.a)(e,t),Object(a.a)(e,[{key:"componentDidMount",value:function(){var t=E(),e=t.transformSource,o=(t.transformSink,{endPointParams:[{element:this.rightEndpointRef,params:Object(d.a)({},e,{isSource:!0,uuid:"".concat(this.props.id,"-DottedEndpoint-right")}),referenceParams:{}}],makeTargetParams:{allowLoopback:!1,anchor:"ContinuousLeft",dropOptions:{hoverClass:"drag-hover"},isTarget:!0,uuid:"".concat(this.props.id,"-DottedEndPoint")},nodeId:this.props.id});this.props.initNode&&this.props.initNode(o)}},{key:"render",value:function(){var t=this,e=this.props.config,o={};return e&&(o=e.style),l.createElement("div",{id:this.props.id,className:"".concat(A," ").concat(z),style:o},l.createElement("div",{className:"".concat(R)},e&&e.label?e.label:this.props.id),l.createElement("div",{id:"".concat(this.props.id,"-right"),ref:function(e){return t.rightEndpointRef=e},className:"".concat(D," ").concat(L," right")}))}}]),e}(P.DefaultNode),B=Object(w.css)({background:"white",border:"2px solid ".concat(C.main.colors.yellow),cursor:"pointer",height:"105px",left:"200px",position:"absolute",top:"200px",width:"105px"}),M=Object(w.css)({"&.bottom":{height:"15px",left:"45px",top:"100px"},"&.right":{height:"15px",left:"95px",top:"35px"}}),G=function(t){function e(){var t,o;Object(i.a)(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(o=Object(c.a)(this,(t=Object(r.a)(e)).call.apply(t,[this].concat(a)))).rightEndpointRef=void 0,o.bottomEndpointRef=void 0,o}return Object(s.a)(e,t),Object(a.a)(e,[{key:"componentDidMount",value:function(){var t=E(),e=t.conditionBottomEndpoint,o=t.conditionRightEndpoint,n={endPointParams:[{element:this.rightEndpointRef,params:Object(d.a)({},o,{isSource:!0,uuid:"".concat(this.props.id,"-condition-right")}),referenceParams:{}},{element:this.bottomEndpointRef,params:Object(d.a)({},e,{uuid:"".concat(this.props.id,"-condition-bottom")}),referenceParams:{}}],makeTargetParams:{allowLoopback:!1,anchor:"ContinuousLeft",dropOptions:{hoverClass:"drag-hover"},isTarget:!0},nodeId:this.props.id};this.props.initNode&&this.props.initNode(n)}},{key:"render",value:function(){var t=this,e=this.props.config,o={};return e&&(o=e.style),l.createElement("div",{id:this.props.id,className:"".concat(B),style:o},l.createElement("div",{className:"".concat(R)},e&&e.label?e.label:this.props.id,l.createElement("div",{id:"".concat(this.props.id,"-right"),ref:function(e){return t.rightEndpointRef=e},className:"".concat(D," ").concat(M," right")}),l.createElement("div",{id:"".concat(this.props.id,"-bottom"),ref:function(e){return t.bottomEndpointRef=e},className:"".concat(D," ").concat(M," bottom")})))}}]),e}(P.DefaultNode),Z=o(73),J=o.n(Z),U={connections:[{sourceId:"1",targetId:"2"},{sourceId:"2",targetId:"3.5"},{data:{condition:"true"},sourceId:"3.5",targetId:"4.5"},{data:{condition:"false"},sourceId:"3.5",targetId:"3"},{sourceId:"3",targetId:"4"}],nodes:[{config:{label:"Default Node",type:"source"},id:"1"},{config:{label:"Node Type 1",type:"transform"},id:"2"},{config:{label:"Node Type 1(Sink)",type:"sink"},id:"3"},{config:{label:"Node Type 3",type:"condition"},id:"3.5"},{config:{label:"Node Type 2",type:"action"},id:"4"},{config:{label:"Node Type 2",type:"action"},id:"4.5"}]},Y=o(352),$=o(74),q=Object(w.css)({alignItems:"center",display:"flex",height:"".concat(90,"px"),justifyContent:"center",margin:0}),H=Object(w.css)({alignItems:"center",background:"white",display:"flex",height:"".concat(50,"px"),justifyContent:"center"}),K=Object(w.css)({border:"1px solid ".concat(C.main.colors.salmonPink),boxShadow:"".concat(C.main.boxShadow()),fontSize:"inherit",margin:"0 5px",padding:"5px"}),Q=Object(w.css)({backgroundColor:C.main.colors.blueGreen}),V=Object(w.css)({backgroundColor:C.main.colors.teal}),X=Object(w.css)({backgroundColor:C.main.colors.yellow}),_=Object(w.css)({background:"white",height:"calc(100vh - ".concat(90,"px - ").concat(51,"px)"),width:"100vw"}),tt={connections:{dotted:{paintStyle:{dashstyle:"2 4",lineWidth:2,outlineColor:"transparent",outlineWidth:4,strokeStyle:"#0099ff",strokeWidth:2}},selected:{paintStyle:{dashstyle:"solid",lineWidth:4,outlineColor:"transparent",outlineWidth:4,strokeStyle:"#58b7f6"}}},endpoints:{}},et={click:N,connection:function(t){t.connection.endpoints.forEach(function(e){var o=e.getUuid();o&&-1!==o.indexOf("DottedEndPoint")&&t.connection.setType("dotted")})},endpointClick:N};w.css.global("html, body",{backgroundColor:"".concat(C.main.colors.salmonPink),fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1rem",height:"100vh",margin:0,overflow:"auto",width:"100vw"}),w.css.global(".jtk-endpoint.jtk-endpoint-anchor",{zIndex:20001}),w.css.global("body > #app-dag",{height:"100%",overflow:"auto",width:"100%"}),w.css.global("a",{":hover":{textDecoration:"none"}}),w.css.global("p",{marginBottom:"2rem"}),w.css.global("ul",{"> li":{"> p":{margin:"0"},margin:"10px 0"},"> p":{margin:"0"}}),w.css.global("h3, h4, h5",{borderBottom:"1px solid",fontWeight:"bold",paddingBottom:"10px"});var ot={action:F,condition:G,sink:W,source:P.DefaultNode,transform:W},nt=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=new J.a.graphlib.Graph;return n.setGraph({marginx:0,marginy:0,nodesep:90,rankdir:"LR",ranker:"longest-path",ranksep:o}),n.setDefaultEdgeLabel(function(){return{}}),t.forEach(function(t){var e=t.id;n.setNode(e,{label:t.config?t.config.label:"",width:100,height:100})}),e.forEach(function(t){n.setEdge(t.sourceId,t.targetId)}),J.a.layout(n),n}(U.nodes,U.connections);U.nodes=U.nodes.map(function(t){var e=nt.node(t.id);return Object(d.a)({},t,{config:Object(d.a)({},t.config,{style:{left:"".concat(e.x,"px"),top:"".concat(e.y,"px")}})})});var it=function(t){function e(){var t,o;Object(i.a)(this,e);for(var a=arguments.length,s=new Array(a),d=0;d<a;d++)s[d]=arguments[d];return(o=Object(c.a)(this,(t=Object(r.a)(e)).call.apply(t,[this].concat(s)))).state={connections:U.connections,nodes:U.nodes,zoom:1},o.addNode=function(t){var e;o.setState({nodes:[].concat(Object(n.a)(o.state.nodes),[(e=t,{config:{label:"Node Type: ".concat(t," #").concat(Math.ceil(100*Math.random())),type:e},id:Y()})])})},o.setZoom=function(t){t?o.setState({zoom:o.state.zoom+.2}):o.setState({zoom:o.state.zoom-.2})},o}return Object(s.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t=this;return[l.createElement("h1",{className:"".concat(q),key:"title"},"An example of React DAG"),l.createElement("div",{className:"".concat(H),key:"button-panel"},l.createElement("button",{className:"".concat(K," ").concat(Q),onClick:this.addNode.bind(null,"transform")},"Add Node Type 1"),l.createElement("button",{className:"".concat(K," ").concat(V),onClick:this.addNode.bind(null,"action")},"Add Node Type 2"),l.createElement("button",{className:"".concat(K," ").concat(X),onClick:this.addNode.bind(null,"condition")},"Add Node Type 3"),l.createElement("button",{className:"".concat(K),onClick:this.addNode.bind(null,"source")},"Add Node Type 4"),l.createElement("button",{className:"".concat(K," ").concat(Q),onClick:this.addNode.bind(null,"sink")},"Add Node Type 5"),l.createElement("button",{className:"".concat(K),onClick:this.setZoom.bind(this,!0)},"Zoom in"),l.createElement("button",{className:"".concat(K),onClick:this.setZoom.bind(this,!1)},"Zoom out")),l.createElement(T.a,{className:"".concat(_),key:"dag",connections:$(this.state.connections),nodes:$(this.state.nodes),jsPlumbSettings:y,connectionDecoders:[h,m],connectionEncoders:[p,f],eventListeners:et,registerTypes:tt,onChange:function(e){var o=e.nodes,n=e.connections;t.setState({nodes:o,connections:n})},zoom:this.state.zoom},this.state.nodes.map(function(t,e){var o,n=(o=t.config.type,ot[o]?ot[o]:P.DefaultNode);return l.createElement(n,{key:e,id:t.id})}))]}}]),e}(l.Component);u.render(l.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[133,1,2]]]);
//# sourceMappingURL=main.386096d0.chunk.js.map